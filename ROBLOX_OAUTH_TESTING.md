# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Roblox OAuth2 - ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Published App

## ‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
- ‚úÖ Published App ‡πÉ‡∏ô Roblox ‡πÅ‡∏•‡πâ‡∏ß
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ HTTPS URLs (ngrok)
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Scopes (openid, profile)
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Redirect URI

## üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö OAuth Flow

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `.env.local` ‡∏°‡∏µ HTTPS redirect URI ‡πÅ‡∏•‡πâ‡∏ß:

```env
ROBLOX_CLIENT_ID=4315548699520888825
ROBLOX_CLIENT_SECRET=RBX-1XhhQWIm4EaUeiqdX5NVQvP5zBXJvNZ7MQSVitpHjAALuPkSzkWSQX5fKNndYpmU
ROBLOX_REDIRECT_URI=https://2d7a810b4f87.ngrok-free.app/api/auth/roblox/callback
```

**‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: ‡πÉ‡∏ä‡πâ HTTPS URL ‡∏à‡∏≤‡∏Å ngrok (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `http://localhost:3000`)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏£‡∏¥‡πà‡∏° ngrok Tunnel

1. ‡πÄ‡∏õ‡∏¥‡∏î terminal ‡πÉ‡∏´‡∏°‡πà
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Next.js dev server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà (`npm run dev`)
3. ‡πÄ‡∏£‡∏¥‡πà‡∏° ngrok:
```powershell
ngrok http 3000
```

4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ngrok URL ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Roblox Dashboard
   - ‡∏ñ‡πâ‡∏≤ URL ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Roblox Dashboard ‡πÅ‡∏•‡∏∞ `.env.local`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö OAuth

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Test Page
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `https://2d7a810b4f87.ngrok-free.app/test-oauth`
   - ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ `http://localhost:3000/test-oauth` (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Test Login with Roblox"
3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ redirect ‡πÑ‡∏õ Roblox authorization page
4. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á
5. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞ redirect ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏•‡∏∞ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Login Page
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `https://2d7a810b4f87.ngrok-free.app/login`
   - ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ `http://localhost:3000/login` (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Login with Roblox"
3. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á
4. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞ redirect ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏•‡∏∞ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

## ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

- [ ] ngrok tunnel ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
- [ ] Next.js dev server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà (port 3000)
- [ ] `.env.local` ‡∏°‡∏µ HTTPS redirect URI
- [ ] ngrok URL ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô Roblox Dashboard
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö OAuth flow ‡∏à‡∏≤‡∏Å test page
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÄ‡∏´‡πá‡∏ô username ‡πÉ‡∏ô navbar)

## üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

‡∏´‡∏•‡∏±‡∏á OAuth flow:
1. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô username ‡∏Ç‡∏≠‡∏á Roblox ‡πÉ‡∏ô navbar
2. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô avatar ‡∏Ç‡∏≠‡∏á Roblox
3. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤ profile page ‡πÑ‡∏î‡πâ
4. ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ chat ‡πÑ‡∏î‡πâ

## ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏à‡∏≠

### 1. ngrok URL ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ngrok URL ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà restart
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Roblox Dashboard ‡πÅ‡∏•‡∏∞ `.env.local` ‡∏î‡πâ‡∏ß‡∏¢ URL ‡πÉ‡∏´‡∏°‡πà

### 2. ngrok Warning Page
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ngrok ‡πÅ‡∏™‡∏î‡∏á warning page "Visit Site"
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏Ñ‡∏•‡∏¥‡∏Å "Visit Site" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏° warning
- **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: Roblox OAuth callback ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥‡πÅ‡∏°‡πâ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô warning

### 3. Redirect URI Mismatch
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: Roblox ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ redirect URI ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ redirect URI ‡πÉ‡∏ô Roblox Dashboard ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÉ‡∏ô `.env.local` ‡πÄ‡∏õ‡πä‡∏∞‡πÜ

### 4. Invalid Client
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: Roblox ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ client ID ‡∏´‡∏£‡∏∑‡∏≠ secret ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Client ID ‡πÅ‡∏•‡∏∞ Secret ‡πÉ‡∏ô `.env.local`

## üéâ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å OAuth ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß:
1. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ login/logout
2. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô features ‡∏ï‡πà‡∏≤‡∏á‡πÜ
3. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ user info ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å Roblox ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
4. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö chat ‡πÅ‡∏•‡∏∞ trading features

## üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- ‡πÉ‡∏ä‡πâ HTTPS URL ‡∏à‡∏≤‡∏Å ngrok ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö OAuth flow
- ‡πÉ‡∏ä‡πâ `http://localhost:3000` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏î‡πâ
- ngrok free plan ‡∏°‡∏µ session limit - ‡∏ñ‡πâ‡∏≤ timeout ‡∏ï‡πâ‡∏≠‡∏á restart ngrok
- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ domain ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏Å‡∏±‡∏ö SSL certificate

